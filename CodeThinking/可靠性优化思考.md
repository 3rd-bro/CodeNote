# 可靠性思考

## 常见问题
### 数据判空
1，数据判空。接口的返回值、或者回调数据，使用之前要进行判空处理，减少因数据为null，导致的空指针问题。
针对每个接口的返回数据，自查代码在使用时是否都有做好判空处理,包括返回的对象的属性，在使用时也需要进行判空。
比如接口返回了SongInfo类型的对象info，在使用时，不仅仅需要对info做好判空，在使用info.getVip()方法时，也要对这个方法的返回值最好判空处理。 确认完成后，把结果填写在表格中
请注意打印日志中如果使用到了这些数据，也需要做好判空。

### 边界值问题
2，边界判断。接口返回的集合类型的数据，在使用下标获取数据时，需要先检查数据长度，避免下标越界。
针对每个接口，自查代码中使用下标获取数据的位置，并将结果填写在对应接口后面。
如果数据中没有列表类型数据，可以选填不需要。
请注意打印日志语句中有使用下标获取数据，也要先进行边界判断。

### 类型判断
3，类型判断。在进行强转之前，进行类型判断。
针对每个接口返回的数据类型，识别出需要做类型转换的类型，并做好类型判断。并将检查结果填写在表格中。
如果接口返回的数据类型，不需要做类型转换，可以填写不需要。

### 数据校验
4，数据校验。对数据的格式、长度、正确性做好校验处理，避免非常规值带来的异常。
对每个接口返回的数据根据业务逻辑需要，做好校验。比如除0，日期转换、字符串转数字类型等。
检查后将结果填写在表格中。

### 接口封装
5，第三方接口做好封装隔离，统一处理各类异常，减少漏处理的风险。
对第三方SDK接口，结合自己应用的业务逻辑，判断是否有需要将SDK的接口再做一层封装，对一些公共的异常做统一处理。
满足以下条件的，建议做封装统一处理：
1，SDK接口较多，且功能区分明显。
比如音乐播放相关的SDK，涉及播放控制、收藏、列表请求等功能，可以直接按照自己的业务逻辑重新做下封装，将接口大致分类封装在不同的功能类里面。方便调用，也统一了与SDK交互的出入口。
2，SDK中很多接口返回了相同的数据结构。
针对相同类型的数据，封装一个解析校验工具类，对相同类型的数据统一校验。减少漏处理的风险。

### 压力测试
#### 限流判断

### 服务重连

### 复杂度优化

### 看门狗

### 自检程序

### 埋点和埋点解析

### 日志优化
### 
  
